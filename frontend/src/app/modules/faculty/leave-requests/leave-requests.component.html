<div class="leave-requests-container">
  <h2>Leave Requests</h2>

  <div class="leave-form">
    <h3>Request New Leave</h3>
    <form (ngSubmit)="submitLeaveRequest()">
      <div class="form-group">
        <label for="leaveType">Leave Type</label>
        <select id="leaveType" [(ngModel)]="leaveRequest.type" required>
          <option value="">Select leave type</option>
          <option *ngFor="let type of leaveTypes" [value]="type">{{ type }}</option>
        </select>
      </div>

      <div class="form-group">
        <label for="startDate">Start Date</label>
        <input type="date" id="startDate" [(ngModel)]="leaveRequest.startDate" required>
      </div>

      <div class="form-group">
        <label for="endDate">End Date</label>
        <input type="date" id="endDate" [(ngModel)]="leaveRequest.endDate" required>
      </div>

      <div class="form-group">
        <label for="reason">Reason</label>
        <textarea id="reason" [(ngModel)]="leaveRequest.reason" required></textarea>
      </div>

      <button type="submit" [disabled]="!leaveRequest.type || !leaveRequest.startDate || !leaveRequest.endDate || !leaveRequest.reason">
        Submit Leave Request
      </button>
    </form>
  </div>

  <div class="leave-history">
    <h3>Pending Leave Requests</h3>
    <div class="requests-list">
      <div *ngFor="let request of leaveRequests$ | async" class="request-item">
        <div class="request-info">
          <div class="request-type">{{ request.type }}</div>
          <div class="request-dates">{{ request.startDate }} - {{ request.endDate }}</div>
          <div class="request-status" [style.color]="getLeaveStatusColor(request.status)">
            {{ request.status }}
          </div>
        </div>
        <div class="request-reason">{{ request.reason }}</div>
        <div class="request-actions" *ngIf="request.status === 'Pending'">
          <button class="action-btn approve">Approve</button>
          <button class="action-btn reject">Reject</button>
        </div>
      </div>
    </div>
  </div>
</div>
